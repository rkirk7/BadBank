{"ast":null,"code":"import React, { useState, useEffect } from \"react\";\nimport { Card, CurrentUser } from \"./context\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { checkAuthentication, getBalance } from \"./loading\";\nimport '../App.css';\nimport { checkAuthorization } from \"./firebase\";\nexport default function Home() {\n  const {\n    currentUser,\n    setCurrentUser\n  } = React.useContext(CurrentUser);\n  const [isUserSet, setIsUserSet] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  //   useEffect(() => {\n  //     async function loadPage() {\n  //         if (currentUser.email === '') {\n  //             await checkAuthentication(setCurrentUser, navigate);\n  //         } \n  //         else {\n  //             await getBalance(setCurrentUser, currentUser.email);\n  //         }\n  //         setLoading(false);\n  //     }\n\n  //     loadPage();\n  // }, []);\n\n  useEffect(() => {\n    async function loadPage() {\n      if (currentUser.email === '') {\n        let res = await checkAuthorization(setCurrentUser);\n        let data = await res.json();\n        console.log(\"home data: \".concat(data));\n      } else {\n        await getBalance(setCurrentUser, currentUser.email);\n      }\n      setLoading(false);\n    }\n    loadPage();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, !loading && /*#__PURE__*/React.createElement(Card, {\n    bgcolor: \"primary\",\n    txtcolor: \"white\",\n    header: \"Regan's Bad Bank\",\n    title: currentUser.name != '' && \"Welcome, \".concat(currentUser.name, \".\"),\n    body: currentUser.name != '' ? /*#__PURE__*/React.createElement(React.Fragment, null, \"Your current balance is $\", currentUser.balance, \". You can make a \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/deposit\",\n      className: \"mylink\"\n    }, \"deposit\"), \" or \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/withdraw\",\n      className: \"mylink\"\n    }, \"withdraw\"), \" fake cash!\") : /*#__PURE__*/React.createElement(React.Fragment, null, \"Please \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      className: \"mylink\"\n    }, \"log in\"), \" or \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/CreateAccount\",\n      className: \"mylink\"\n    }, \"create an account\"), \" to continue.\"),\n    centered: /*#__PURE__*/React.createElement(\"img\", {\n      src: require('../Images/BadBankLogo.png'),\n      className: \"img-fluid\",\n      alt: \"Bank Icon\"\n    })\n  }));\n}","map":{"version":3,"names":["React","useState","useEffect","Card","CurrentUser","Link","useNavigate","checkAuthentication","getBalance","checkAuthorization","Home","currentUser","setCurrentUser","useContext","isUserSet","setIsUserSet","loading","setLoading","navigate","loadPage","email","res","data","json","console","log","concat","createElement","Fragment","bgcolor","txtcolor","header","title","name","body","balance","to","className","centered","src","require","alt"],"sources":["/Users/Regan/Documents/GitHub/BadBank/public/src/Components/home.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { Card, CurrentUser } from \"./context\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport {checkAuthentication, getBalance} from \"./loading\"\nimport '../App.css';\nimport { checkAuthorization } from \"./firebase\";\n\n\nexport default function Home(){\n  const { currentUser, setCurrentUser } = React.useContext(CurrentUser);\n  const [isUserSet, setIsUserSet] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n//   useEffect(() => {\n//     async function loadPage() {\n//         if (currentUser.email === '') {\n//             await checkAuthentication(setCurrentUser, navigate);\n//         } \n//         else {\n//             await getBalance(setCurrentUser, currentUser.email);\n//         }\n//         setLoading(false);\n//     }\n\n//     loadPage();\n// }, []);\n \n\n  useEffect(() => {\n    async function loadPage() {\n        if (currentUser.email === '') {\n          let res = await checkAuthorization(setCurrentUser);\n          let data = await res.json();\n          console.log(`home data: ${data}`);\n\n        } \n        else {\n            await getBalance(setCurrentUser, currentUser.email);\n        }\n        setLoading(false);\n    }\n\n    loadPage();\n}, []);\n\n    return (\n      <>\n         {!loading && (\n       <Card \n       bgcolor=\"primary\"\n       txtcolor=\"white\"\n       header=\"Regan's Bad Bank\"\n       title={currentUser.name != '' && `Welcome, ${currentUser.name}.`}       \n       body={currentUser.name != '' ? (\n      <>\n       Your current balance is ${currentUser.balance}. You can make a <Link to=\"/deposit\" className=\"mylink\">deposit</Link> or <Link to=\"/withdraw\" className=\"mylink\">withdraw</Link> fake cash!\n       </>\n       ) : (\n       <>\n       Please <Link to=\"/login\" className=\"mylink\">log in</Link> or <Link to=\"/CreateAccount\" className=\"mylink\">create an account</Link> to continue.\n     </>\n       )\n      }       \n       centered={(<img src={require ('../Images/BadBankLogo.png')} className=\"img-fluid\" alt=\"Bank Icon\" />)}\n       \n       />\n      )}\n       </>\n    );\n}"],"mappings":"AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAChD,SAASC,IAAI,EAAEC,WAAW,QAAQ,WAAW;AAC7C,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,SAAQC,mBAAmB,EAAEC,UAAU,QAAO,WAAW;AACzD,OAAO,YAAY;AACnB,SAASC,kBAAkB,QAAQ,YAAY;AAG/C,eAAe,SAASC,IAAIA,CAAA,EAAE;EAC5B,MAAM;IAAEC,WAAW;IAAEC;EAAe,CAAC,GAAGZ,KAAK,CAACa,UAAU,CAACT,WAAW,CAAC;EACrE,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAMiB,QAAQ,GAAGZ,WAAW,CAAC,CAAC;;EAEhC;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAGEJ,SAAS,CAAC,MAAM;IACd,eAAeiB,QAAQA,CAAA,EAAG;MACtB,IAAIR,WAAW,CAACS,KAAK,KAAK,EAAE,EAAE;QAC5B,IAAIC,GAAG,GAAG,MAAMZ,kBAAkB,CAACG,cAAc,CAAC;QAClD,IAAIU,IAAI,GAAG,MAAMD,GAAG,CAACE,IAAI,CAAC,CAAC;QAC3BC,OAAO,CAACC,GAAG,eAAAC,MAAA,CAAeJ,IAAI,CAAE,CAAC;MAEnC,CAAC,MACI;QACD,MAAMd,UAAU,CAACI,cAAc,EAAED,WAAW,CAACS,KAAK,CAAC;MACvD;MACAH,UAAU,CAAC,KAAK,CAAC;IACrB;IAEAE,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEF,oBACEnB,KAAA,CAAA2B,aAAA,CAAA3B,KAAA,CAAA4B,QAAA,QACI,CAACZ,OAAO,iBACXhB,KAAA,CAAA2B,aAAA,CAACxB,IAAI;IACL0B,OAAO,EAAC,SAAS;IACjBC,QAAQ,EAAC,OAAO;IAChBC,MAAM,EAAC,kBAAkB;IACzBC,KAAK,EAAErB,WAAW,CAACsB,IAAI,IAAI,EAAE,gBAAAP,MAAA,CAAgBf,WAAW,CAACsB,IAAI,MAAI;IACjEC,IAAI,EAAEvB,WAAW,CAACsB,IAAI,IAAI,EAAE,gBAC7BjC,KAAA,CAAA2B,aAAA,CAAA3B,KAAA,CAAA4B,QAAA,QAAE,2BACwB,EAACjB,WAAW,CAACwB,OAAO,EAAC,mBAAiB,eAAAnC,KAAA,CAAA2B,aAAA,CAACtB,IAAI;MAAC+B,EAAE,EAAC,UAAU;MAACC,SAAS,EAAC;IAAQ,GAAC,SAAa,CAAC,QAAI,eAAArC,KAAA,CAAA2B,aAAA,CAACtB,IAAI;MAAC+B,EAAE,EAAC,WAAW;MAACC,SAAS,EAAC;IAAQ,GAAC,UAAc,CAAC,eAC7K,CAAC,gBAEHrC,KAAA,CAAA2B,aAAA,CAAA3B,KAAA,CAAA4B,QAAA,QAAE,SACK,eAAA5B,KAAA,CAAA2B,aAAA,CAACtB,IAAI;MAAC+B,EAAE,EAAC,QAAQ;MAACC,SAAS,EAAC;IAAQ,GAAC,QAAY,CAAC,QAAI,eAAArC,KAAA,CAAA2B,aAAA,CAACtB,IAAI;MAAC+B,EAAE,EAAC,gBAAgB;MAACC,SAAS,EAAC;IAAQ,GAAC,mBAAuB,CAAC,iBAClI,CAEA;IACAC,QAAQ,eAAGtC,KAAA,CAAA2B,aAAA;MAAKY,GAAG,EAAEC,OAAO,CAAE,2BAA2B,CAAE;MAACH,SAAS,EAAC,WAAW;MAACI,GAAG,EAAC;IAAW,CAAE;EAAG,CAErG,CAEC,CAAC;AAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}